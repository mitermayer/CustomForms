/*! customformsjs - v1.1.0-dev - 2015-02-15 */ 
(function(e){"function"==typeof define&&define.amd?define("customformsjs/basefield",["jquery"],function(t){e(window,t)}):e(window,jQuery)})(function(e){"use strict";var t=e.customformsjs=e.customformsjs||{};t.BaseField=function(e){var t=null,s="",n=[],i=[];this.init=function(){var o=["update","save","sync","validate"];t=e.element,s=t.value;for(var a=0,c=o.length;c>a;a++)n[o[a]]=[];if(e.events)for(var r=0,u=e.events.length;u>r;r++){var l=e.events[r],f=n[l.name||l]=n[l.name||l]||[];l.callback&&"function"==typeof l.callback&&f.push(l.callback)}if(i.push({validator:function(e){return""!==e},message:"value can't be undefined."}),e.validators)for(var d=0,m=e.validators.length;m>d;d++){var p=e.validators[d];i.push({validator:i.validator||p,message:p.message})}return"function"==typeof e.init&&e.init(),!0},this.bind=function(e,t){return n[e]&&n[e].push(t),this},this.unbind=function(e,t){for(var s=0,i=n[e].length;i>s;s++)if(n[e][s]===t){n[e].splice(s,1);break}return this},this.update=function(e,t){return s!==e&&(this.validate(e)||t)&&(s=e,this.trigger("update",s)),this},this.save=function(){return t.value=s,this.trigger("save",s),this},this.sync=function(){return s=t.value,this.trigger("sync",s),this},this.validate=function(e){for(var t={success:!0,message:[]},n='"'+e+'" is not a valid value.',o=0,a=i.length;a>o;o++){var c=i[o],r=c.validator(e||s);r||(t.success=!1,t.message.push(c.message||n))}return this.trigger("validate",t),t},this.trigger=function(e,s){if(n[e])for(var i=0,o=n[e].length;o>i;i++){var a=this,c={element:t,model:a,event:e,time:(new Date).getTime(),data:s};n[e][i](c)}return this},this.init()}}),function(e){"function"==typeof define&&define.amd?define("customformsjs/checkbox",["jquery","customformsjs/basefield"],function(t){e(window,t)}):e(window,jQuery)}(function(e,t){"use strict";var s=e.customformsjs=e.customformsjs||{},n=s.module=s.module||{},i={active:!0,ready:function(){},customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",hideCss:{position:"absolute",left:"-9999px"}};n.Checkbox=function(e){var n=!1,o=e?t.extend(!0,{},i,e):i,a=t(o.element),c=null,r=o.classPrefix+"checkbox",u=function(){a.focusin(function(){c.addClass("focus")}).focusout(function(){c.removeClass("focus")}).change(function(){n.validate()}),c.click(function(e){e.preventDefault(),a.prop("checked",!a.prop("checked")),n.validate()})};return o.active&&(o.validators=o.validators||[],o.validators.push(function(){return a.prop("checked")}),o.init=function(){a.css(o.hideCss),c=t("<"+o.customEle+"/>"),c.attr({id:o.classPrefix+(a.attr("id")||a.attr("name")),"class":r+" customForm-hidden"}),a.before(c),o.ready()},n=new s.BaseField(o),n.bind("validate",function(e){var t=e.data.success;c[(t?"add":"remove")+"Class"]("checked")}),n.validate(),u()),n},n.Checkbox.blueprint={tagName:"input",filter:{input:{type:"checkbox"}}}}),function(e){"function"==typeof define&&define.amd?define("customformsjs/file",["jquery","customformsjs/basefield"],function(t){e(window,t)}):e(window,jQuery)}(function(e,t){"use strict";var s=e.customformsjs=e.customformsjs||{},n=s.module=s.module||{},i={active:!0,ready:function(){},BUTTON_BROWSER_SIZE:36,customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",holderTxt:"Upload..",hideCss:{opacity:"0",filter:"alpha(opacity=0)",position:"absolute",top:"0px",left:"0px","-moz-opacity":"0","-khtml-opacity":"0"},elCss:{display:"block","text-align":"left","-moz-appearance":"none","-webkit-appearance":"none"},customContainerCss:{position:"relative"},customElCss:{display:"block",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}};n.File=function(e){var n=!1,o=t(e.element),a=null,c=null,r=e?t.extend(!0,{},i,e):i,u=r.classPrefix+(o.attr("id")||o.attr("name")),l=r.classPrefix+"file",f=l+"-container",d={width:0,height:0,size:0},m=function(e){return e-r.BUTTON_BROWSER_SIZE},p=function(){return o.val().split("\\").pop()},v=function(){o.focusin(function(){c.addClass("focus")}).focusout(function(){c.removeClass("focus")}).change(function(){n.validate()})};return r.active&&(r.validators=r.validators||[],r.init=function(){o.css(r.hideCss),c=t("<"+r.containerEle+"/>"),c.attr({id:u+"-container","class":f}).css(r.customContainerCss),a=t("<"+r.customEle+"/>"),a.attr({id:u,"class":l}).css(r.customElCss),o.before(c),o.appendTo(c),c.append(a),d.height=c.css("height"),d.width=c.css("width"),d.size=m(parseInt(d.width,10)),o.css(t.extend({},r.elCss,d)),r.ready()},n=new s.BaseField(r),n.bind("validate",function(){var e=p();a.html(e?e:r.holderTxt)}),n.validate(),v()),n},n.File.blueprint={tagName:"input",filter:{input:{type:"file"}}}}),function(e){"function"==typeof define&&define.amd?define("customformsjs/radio",["jquery","customformsjs/basefield"],function(t){e(window,t)}):e(window,jQuery)}(function(e,t){"use strict";var s=e.customformsjs=e.customformsjs||{},n=s.module=s.module||{},i={active:!0,ready:function(){},customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",hideCss:{position:"absolute",left:"-9999px"}};n.Radio=function(e){var n=!1,o=e?t.extend(!0,{},i,e):i,a=t(o.element),c=null,r=o.classPrefix+"radio",u=a.attr("name"),l=r+"-"+u,f=function(){a.focusin(function(){c.addClass("focus")}).focusout(function(){c.removeClass("focus")}).change(function(){t("."+l).removeClass("checked"),n.validate()}),c.click(function(e){e.preventDefault(),a.prop("checked",!0),a.trigger("change"),n.validate()})};return o.active&&(o.validators=o.validators||[],o.validators.push(function(){return a.prop("checked")}),o.init=function(){a.css(o.hideCss),c=t("<"+o.customEle+"/>"),c.attr({id:o.classPrefix+a.attr("name")+"-"+a.val(),"class":r+" customForm-hidden "+l}),a.before(c),o.ready()},n=new s.BaseField(o),n.bind("validate",function(e){var t=e.data.success;c[(t?"add":"remove")+"Class"]("checked")}),n.validate(),f()),n},n.Radio.blueprint={tagName:"input",filter:{input:{type:"radio"}}}}),function(e){"function"==typeof define&&define.amd?define("customformsjs/choice",["jquery","customformsjs/basefield"],function(t){e(window,t)}):e(window,jQuery)}(function(e,t){"use strict";var s=e.customformsjs=e.customformsjs||{},n=s.module=s.module||{},i={active:!1,ready:function(){},customEle:"a",containerEle:"div",autoHide:!1,classPrefix:"custom-",hideCss:{opacity:"0",filter:"alpha(opacity=0)",position:"absolute",top:"0px",left:"0px","-moz-opacity":"0","-khtml-opacity":"0"},elCss:{display:"block","-webkit-appearance":"none","-moz-appearance":"none"},customContainerCss:{position:"relative"},customElCss:{display:"block",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"},customListCss:{"max-height":"300px"},customListItemCss:{}};n.Choice=function(n){var o=!1,a=n?t.extend(!0,{},i,n):i,c=t(a.element),r=null,u=null,l=null,f=null,d=i.classPrefix+(c.attr("id")||c.attr("name")),m=i.classPrefix+"choice",p=m+"-container",v=function(){c.focusin(function(){u.addClass("focus")}).focusout(function(){u.removeClass("focus")}).change(function(){o.sync().validate()}).keydown(function(e){var t=13,s=32,n=9,i=e.which;i===t||i===s?(l.toggleClass("open"),e.preventDefault()):i===n?l.hasClass("open")&&(e.preventDefault(),l.removeClass("open")):setTimeout(function(){c.trigger("change")},0)}),u.click(function(e){e.preventDefault(),c.focus(),l.toggleClass("open")}).mouseleave(function(){e.clearTimeout(o.closeTimer),o.closeTimer=e.setTimeout(function(){l.removeClass("open")},500)}).mouseenter(function(){e.clearTimeout(o.closeTimer)}),f.click(function(e){e.preventDefault(),e.stopPropagation(),l.removeClass("open"),f.removeClass("selected"),t(this).addClass("selected"),o.validate()}).mouseover(function(){f.removeClass("selected"),t(this).addClass("selected"),o.validate()})};return a.active&&(a.validators=a.validators||[],a.init=function(){a.autoHide&&c.css(i.hideCss),u=t("<"+a.containerEle+"/>"),u.attr({id:d+"-container","class":p}).css(a.customContainerCss),r=t("<"+a.customEle+"/>"),r.attr({id:d,"class":m}).css(a.customElCss),c.before(u),c.appendTo(u),u.append(r),l=t("<ul />"),l.css(a.customListCss),c.find("option").each(function(){var e=t("<li />"),s=t(this);e.css(a.customListItemCss),c.val()===s.val()&&(r.html(s.html()),e.addClass("selected")),e.html(s.html()).attr("customValue",s.val()),e.css(a.customListItemCss),l.append(e)}),f=l.find("li"),u.append(l),a.ready()},o=new s.BaseField(a),o.bind("validate",function(){var e=l.find(".selected"),t=e.text()||c.find("option").first().text();r.html(t),c.val(e.attr("customValue"))}),o.bind("sync",function(e){f.removeClass("selected"),f.each(function(){return t(this).attr("customValue")===e.data?(t(this).addClass("selected"),!1):void 0}),t(this).addClass("selected")}),o.validate(),v()),o},n.Choice.blueprint={tagName:"select",filter:{select:{customType:"list-select"}}}}),function(e){"function"==typeof define&&define.amd?define("customformsjs/select",["jquery","customformsjs/basefield"],function(t){e(window,t)}):e(window,jQuery)}(function(e,t){"use strict";var s=e.customformsjs=e.customformsjs||{},n=s.module=s.module||{},i={active:!0,ready:function(){},customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",hideCss:{opacity:"0",filter:"alpha(opacity=0)",position:"absolute",top:"0px",left:"0px","-moz-opacity":"0","-khtml-opacity":"0"},elCss:{display:"block","-webkit-appearance":"none","-moz-appearance":"none"},customContainerCss:{position:"relative"},customElCss:{display:"block",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}};n.Select=function(e){var n=!1,o=e?t.extend(!0,{},i,e):i,a=t(o.element),c=null,r=null,u=o.classPrefix+(a.attr("id")||a.attr("name")),l=o.classPrefix+"select",f=l+"-container",d={width:0,height:0},m=function(){a.focusin(function(){r.addClass("focus")}).focusout(function(){r.removeClass("focus")}).change(function(){n.validate()})};return o.active&&(o.validators=o.validators||[],o.init=function(){a.css(o.hideCss),r=t("<"+o.containerEle+"/>"),r.attr({id:u+"-container","class":f}).css(o.customContainerCss),c=t("<"+o.customEle+"/>"),c.attr({id:u,"class":l}).css(o.customElCss),a.before(r),a.appendTo(r),r.append(c),d.height=r.css("height"),d.width=r.css("width"),a.css(t.extend({},o.elCss,d)),o.ready()},n=new s.BaseField(o),n.bind("validate",function(){var e=a.find("option:selected").text();e=e||a.find("option").first().text(),c.html(e)}),n.validate(),m()),n},n.Select.blueprint={tagName:"select"}}),function(e){"function"==typeof define&&define.amd?define("customformsjs/text",["jquery","customformsjs/basefield"],function(t){e(window,t)}):e(window,jQuery)}(function(e,t){"use strict";var s=e.customformsjs=e.customformsjs||{},n=s.module=s.module||{},i={active:!0,force:!1,ready:function(){},blur_color:"#777",classPrefix:"custom-",placeholder_support:function(){return"placeholder"in e.document.createElement("input")}()};n.Text=function(e){var n=!1;if(!i.placeholder_support||e.force){var o=e?t.extend(!0,{},i,e):i,a=t(o.element),c=o.classPrefix+"textfield",r=a.css("color"),u=a.attr("placeholder"),l=function(){n.update("",!0).save()},f=function(e){a.css("color",e?r:o.blur_color)},d=function(){n.update(u,!0).save()},m=function(e){n.sync().validate().success||e()},p=function(){m(function(){d()})},v=function(){a.focusin(function(){t(this).addClass("focus"),m(function(){l(),f(!0)})}).focusout(function(){t(this).removeClass("focus"),p()}).closest("form").bind("submit",function(){m(function(){l()})})};o.active&&u&&(o.validators=o.validators||[],o.validators.push(function(e){return e!==u}),o.init=function(){a.addClass(c),o.ready()},n=new s.BaseField(o),n.bind("validate",function(e){var t=e.data.success;f(t)}),p(),v())}return n},n.Text.blueprint={tagName:["input","textarea"],filter:{input:{type:["text","search","tel","url","email","password"]}}}}),function(e){"function"==typeof define&&define.amd?define("customformsjs",["jquery","customformsjs/checkbox","customformsjs/radio","customformsjs/text","customformsjs/file","customformsjs/select"],function(t){e(window,t)}):e(window,jQuery)}(function(e,t){var s=e.customformsjs=e.customformsjs||{},n=function(){var e={},n={},i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o=function(e,i,o){var a=o||{},c=t.extend(!0,{},n,a);c.element=i,s.module[e](c)},a=function(e){n={};for(var t in e)s.module[i(t)]||(n[t]=e[t])},c=function(t){return e[t.nodeName.toLowerCase()]},r=function(e,s){var n={array:function(){return-1!==t.inArray(e,s)},string:function(){return e===s}};return n["string"==typeof s?"string":"array"]()},u=function(e,s){var n=!1;return t.each(e,function(e,t){return n=r(s.attr(e),t),n?!1:void 0}),n},l=function(e,t){for(var s=e[0],n=c(s),i=0,a=n.length;a>i;i++){var r=n[i],l=r.module||r,f=t[l.toLowerCase()];("string"==typeof r||u(r.filter,e))&&o(l,s,f)}},f=function(e,s){t.each(e.children(),function(){var e={getModule:l,getSupportedChildren:f};e[c(t(this)[0])?"getModule":"getSupportedChildren"](t(this),s)})},d=function(t,n){var i,o=s.module[t].blueprint.filter||{};e[n]=e[n]||[],i=o[n]?{filter:o[n],module:t}:t,e[n].push(i)},m=function(){t.each(s.module,function(e){var n=s.module[e].blueprint.tagName,i={array:function(e,s){t.each(s,function(t,s){d(e,s)})},string:d};i[t.isArray(n)?"array":"string"](e,n)})};return m(),function(e){return a(e),t(this).each(function(){var s={validTag:l,checkChildrenForValidTag:f};s[c(t(this)[0])?"validTag":"checkChildrenForValidTag"](t(this),e)})}}();t.fn.cstmForm=n});
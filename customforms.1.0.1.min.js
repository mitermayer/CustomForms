/*! customForms - v1.0.1 - 2013-06-08 */ 
(function(t){"use strict";var e=t.customformsjs=t.customformsjs||{};e.BaseField=function(t){var e=null,i="",n=[],s=[];this.init=function(){var a=["update","save","sync","validate"];e=t.element,i=e.value;for(var o=0,r=a.length;r>o;o++)n[a[o]]=[];if(t.events)for(var c=0,u=t.events.length;u>c;c++){var l=t.events[c],d=n[l.name||l]=n[l.name||l]||[];l.callback&&"function"==typeof l.callback&&d.push(l.callback)}if(s.push({validator:function(t){return""!==t},message:"value can't be undefined."}),t.validators)for(var f=0,v=t.validators.length;v>f;f++){var h=t.validators[f];s.push({validator:s.validator||h,message:h.message})}return"function"==typeof t.init&&t.init(),!0},this.bind=function(t,e){return n[t]&&n[t].push(e),this},this.unbind=function(t,e){for(var i=0,s=n[t].length;s>i;i++)if(n[t][i]===e){n[t].splice(i,1);break}return this},this.update=function(t,e){return i!==t&&(this.validate(t)||e)&&(i=t,this.trigger("update",i)),this},this.save=function(){return e.value=i,this.trigger("save",i),this},this.sync=function(){return i=e.value,this.trigger("sync",i),this},this.validate=function(t){for(var e={success:!0,message:[]},n='"'+t+'" is not a valid value.',a=0,o=s.length;o>a;a++){var r=s[a],c=r.validator(t||i);c||(e.success=!1,e.message.push(r.message||n))}return this.trigger("validate",e),e},this.trigger=function(t,i){if(n[t])for(var s=0,a=n[t].length;a>s;s++){var o=this,r={element:e,model:o,event:t,time:(new Date).getTime(),data:i};n[t][s](r)}return this},this.init()}})(this),function(t){"use strict";var e=t.customformsjs=t.customformsjs||{},i=e.module=e.module||{},n={active:!0,ready:function(){},customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",hideCss:{position:"absolute",left:"-9999px"}};i.Checkbox=function(t){var i=!1,s=t?$.extend(!0,{},n,t):n,a=$(s.element),o=null,r=n.classPrefix+"checkbox",c=function(){a.focusin(function(){o.addClass("focus")}).focusout(function(){o.removeClass("focus")}).change(function(){i.validate()}),o.click(function(t){t.preventDefault(),a.prop("checked",!a.prop("checked")),i.validate()})};return s.validators=s.validators||[],s.validators.push(function(){return a.prop("checked")}),s.init=function(){a.css(n.hideCss),o=$("<"+n.customEle+"/>"),o.attr({id:n.classPrefix+(a.attr("id")||a.attr("name")),"class":r+" customForm-hidden"}),a.before(o),s.ready()},i=new e.BaseField(s),i.bind("validate",function(t){var e=t.data.success;o[(e?"add":"remove")+"Class"]("checked")}),i.validate(),c(),i},i.Checkbox.blueprint={tagName:"input",filter:{input:{type:"checkbox"}}}}(this),function(t){"use strict";var e=t.customformsjs=t.customformsjs||{},i=e.module=e.module||{},n={active:!0,ready:function(){},BUTTON_BROWSER_SIZE:36,customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",holderTxt:"Upload..",hideCss:{opacity:"0",filter:"alpha(opacity=0)",position:"absolute",top:"0px",left:"0px","-moz-opacity":"0","-khtml-opacity":"0"},elCss:{display:"block","text-align":"left","-moz-appearance":"none","-webkit-appearance":"none"},customContainerCss:{position:"relative"},customElCss:{display:"block",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}};i.File=function(t){var i,s,a=!1,o=$(t.element),r=t?$.extend(!0,{},n,t):n,c=n.classPrefix+(o.attr("id")||o.attr("name")),u=n.classPrefix+"file",l=u+"-container",d={width:0,height:0,size:0},f=function(t){return t-r.BUTTON_BROWSER_SIZE},v=function(){return o.val().split("\\").pop()},h=function(){o.focusin(function(){s.addClass("focus")}).focusout(function(){s.removeClass("focus")}).change(function(){a.validate()})};return r.validators=r.validators||[],r.init=function(){o.css(n.hideCss),s=$("<"+r.containerEle+"/>"),s.attr({id:c+"-container","class":l}).css(r.customContainerCss),i=$("<"+r.customEle+"/>"),i.attr({id:c,"class":u}).css(r.customElCss),o.before(s),o.appendTo(s),s.append(i),d.height=s.css("height"),d.width=s.css("width"),d.size=f(parseInt(d.width,10)),o.css($.extend({},r.elCss,d)),r.ready()},a=new e.BaseField(r),a.bind("validate",function(){var t=v();i.html(t?t:r.holderTxt)}),a.validate(),h(),a},i.File.blueprint={tagName:"input",filter:{input:{type:"file"}}}}(this),function(t){"use strict";var e=t.customformsjs=t.customformsjs||{},i=e.module=e.module||{},n={active:!0,ready:function(){},customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",hideCss:{position:"absolute",left:"-9999px"}};i.Radio=function(t){var i=!1,s=t?$.extend(!0,{},n,t):n,a=$(s.element),o=null,r=s.classPrefix+"radio",c=a.attr("name"),u=r+"-"+c,l=function(){a.focusin(function(){o.addClass("focus")}).focusout(function(){o.removeClass("focus")}).change(function(){i.validate()}),o.click(function(t){t.preventDefault(),a.prop("checked",!0),i.validate()})};return s.validators=s.validators||[],s.validators.push(function(){return a.prop("checked")}),s.init=function(){a.css(n.hideCss),o=$("<"+n.customEle+"/>"),o.attr({id:n.classPrefix+a.attr("name")+"-"+a.val(),"class":r+" customForm-hidden "+u}),a.before(o),s.ready()},i=new e.BaseField(s),i.bind("validate",function(t){var e=t.data.success;$("."+u).removeClass("checked"),o[(e?"add":"remove")+"Class"]("checked")}),i.validate(),l(),i},i.Radio.blueprint={tagName:"input",filter:{input:{type:"radio"}}}}(this),function(t){"use strict";var e=t.customformsjs=t.customformsjs||{},i=e.module=e.module||{},n={active:!0,ready:function(){},customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",hideCss:{opacity:"0",filter:"alpha(opacity=0)",position:"absolute",top:"0px",left:"0px","-moz-opacity":"0","-khtml-opacity":"0"},elCss:{display:"block","-webkit-appearance":"none","-moz-appearance":"none"},customContainerCss:{position:"relative"},customElCss:{display:"block",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}};i.Select=function(t){var i=!1,s=t?$.extend(!0,{},n,t):n,a=$(s.element),o=null,r=null,c=n.classPrefix+(a.attr("id")||a.attr("name")),u=n.classPrefix+"select",l=u+"-container",d={width:0,height:0},f=function(){a.focusin(function(){r.addClass("focus")}).focusout(function(){r.removeClass("focus")}).change(function(){i.validate()})};return s.active&&(s.validators=s.validators||[],s.init=function(){a.css(n.hideCss),r=$("<"+s.containerEle+"/>"),r.attr({id:c+"-container","class":l}).css(s.customContainerCss),o=$("<"+s.customEle+"/>"),o.attr({id:c,"class":u}).css(s.customElCss),a.before(r),a.appendTo(r),r.append(o),d.height=r.css("height"),d.width=r.css("width"),a.css($.extend({},s.elCss,d)),s.ready()},i=new e.BaseField(s),i.bind("validate",function(){var t=a.find("option:selected").text();t=t||a.find("option").first().text(),o.html(t)}),i.validate(),f()),i},i.Select.blueprint={tagName:"select"}}(this),function(t){"use strict";var e=t.customformsjs=t.customformsjs||{},i=e.module=e.module||{},n={active:!0,force:!1,ready:function(){},blur_color:"#777",classPrefix:"custom-",placeholder_support:function(){return"placeholder"in t.document.createElement("input")}()};i.Text=function(t){var i=!1;if(!n.placeholder_support||t.force){var s=t?$.extend(!0,{},n,t):n,a=$(s.element),o=s.classPrefix+"textfield",r=a.css("color"),c=a.attr("placeholder"),u=function(){i.update("",!0).save()},l=function(t){a.css("color",t?r:s.blur_color)},d=function(){i.update(c,!0).save()},f=function(t){i.sync().validate().success||t()},v=function(){f(function(){d()})},h=function(){a.focusin(function(){$(this).addClass("focus"),f(function(){u(),l(!0)})}).focusout(function(){$(this).removeClass("focus"),v()}).closest("form").bind("submit",function(){f(function(){u()})})};s.active&&c&&(s.validators=s.validators||[],s.validators.push(function(t){return t!==c}),s.init=function(){a.addClass(o),s.ready()},i=new e.BaseField(s),i.bind("validate",function(t){var e=t.data.success;l(e)}),v(),h())}return i},i.Text.blueprint={tagName:["input","textarea"],filter:{input:{type:["text","search","tel","url","email","password"]}}}}(this),function(t){var e=t.customformsjs=t.customformsjs||{},i=function(){var t={},i={},n=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},s=function(t,n,s){var a=s||{},o=$.extend(!0,{},i,a);o.element=n,e.module[t](o)},a=function(t){i={};for(var s in t)e.module[n(s)]||(i[s]=t[s])},o=function(e){return t[e.nodeName.toLowerCase()]},r=function(t,e){var i={array:function(){return-1!==$.inArray(t,e)},string:function(){return t===e}};return i["string"==typeof e?"string":"array"]()},c=function(t,e){var i=!1;return $.each(t,function(t,n){return i=r(e.attr(t),n),i?!1:void 0}),i},u=function(t,e){for(var i=t[0],n=o(i),a=0,r=n.length;r>a;a++){var u=n[a],l=u.module||u,d=e[l.toLowerCase()];("string"==typeof u||c(u.filter,t))&&s(l,i,d)}},l=function(t,e){$.each(t.children(),function(){var t={getModule:u,getSupportedChildren:l};t[o($(this)[0])?"getModule":"getSupportedChildren"]($(this),e)})},d=function(i,n){var s,a=e.module[i].blueprint.filter||{};t[n]=t[n]||[],s=a[n]?{filter:a[n],module:i}:i,t[n].push(s)},f=function(){$.each(e.module,function(t){var i=e.module[t].blueprint.tagName,n={array:function(t,e){$.each(e,function(e,i){d(t,i)})},string:d};n[$.isArray(i)?"array":"string"](t,i)})};return f(),function(t){a(t),$(this).each(function(){var e={validTag:u,checkChildrenForValidTag:l};e[o($(this)[0])?"validTag":"checkChildrenForValidTag"]($(this),t)})}}();$.fn.cstmForm=i}(this);
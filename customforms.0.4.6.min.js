/*! customForms - v0.4.6 - 2013-03-31 */ 
(function(t){"use strict";var e=t.app=t.app||{};e.BaseField=function(t){var e=null,n="",i=[],r=[];this.init=function(t){var a=["update","save","sync","validate"];e=t.element,n=e.value;for(var o=0,u=a.length;u>o;o++)i[a[o]]=[];if(t.events)for(var c=0,l=t.events.length;l>c;c++)i[t.events[c]]=[];if(r.push(function(t){return""!==t}),t.validators)for(var s=0,f=t.validators.length;f>s;s++)r.push(t.validators[s]);"function"==typeof t.init&&t.init()},this.bind=function(t,e){return i[t]&&i[t].push(e),this},this.unbind=function(t,e){for(var n=0,r=i[t].length;r>n;n++)if(i[t][n]===e){i[t].splice(n,1);break}return this},this.update=function(t){return n!==t&&(n=t,this.trigger("update",n)),this},this.save=function(){return e.value=n,this.trigger("save",n),this},this.sync=function(){return n=e.value,this.trigger("sync",n),this},this.validate=function(t){for(var e=!0,i=0,a=r.length;a>i&&(e=r[i](t||n),e);i++);return this.trigger("validate",e),e},this.trigger=function(t,e){if(i[t])for(var n=0,r=i[t].length;r>n;n++)i[t][n](e);return this},this.init(t)}})(this),function(t){"use strict";var e=t.app=t.app||{},n=e.module=e.module||{},i={active:!0,blur_color:"#777",placeholder_support:function(){return"placeholder"in t.document.createElement("input")}()},r=e.Helper.TextField={toggleColor:function(t,e,n){t.css("color",n?e:i.blur_color)},clearText:function(t){t.update("").save()},setDefaultText:function(t,e){t.update(e).save()},addPlaceholder:function(t,e){t.sync().validate()||e()},removePlaceholder:function(t,e,n){t.sync().validate()||(e(),n(!0))},attachEvents:function(t,e,n,i,r){r.focusin(function(){t.sync().validate()||(e(),n(!0))}).focusout(function(){t.sync().validate()||i()}).closest("form").on("submit",function(){t.sync().validate()||e()})}};n.TextField=function(t){var n=!1;if(!i.placeholder_support){var a,o,u,c,l,s,f=$(t.element),v=f.css("color"),d=f.attr("placeholder"),h=t;h.validators=[function(t){return t!==d}],n=new e.BaseField(h),o=function(){r.clearText(n)},a=function(t){r.toggleColor(f,v,t)},u=function(){r.setDefaultText(n,d)},l=function(){r.removePlaceholder(n,o,a)},c=function(){r.addPlaceholder(n,u)},s=function(){r.attachEvents(n,o,a,u,f)},n.bind("validate",function(t){a(t)}),s(),c()}return n}}(this),$(function(){});
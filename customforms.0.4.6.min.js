/*! customForms - v0.4.6 - 2013-03-31 */ 
(function(t){"use strict";var n=t.app=t.app||{};n.BaseField=function(t){var n=null,i="",e=[],r=[];this.init=function(t){var a=["update","save","sync","validate"];n=t.element,i=n.value;for(var u=0,s=a.length;s>u;u++)e[a[u]]=[];if(t.events)for(var o=0,c=t.events.length;c>o;o++)e[t.events[o]]=[];if(r.push(function(t){return""!==t}),t.validators)for(var l=0,f=t.validators.length;f>l;l++)r.push(t.validators[l]);"function"==typeof t.init&&t.init()},this.bind=function(t,n){return e[t]&&e[t].push(n),this},this.unbind=function(t,n){for(var i=0,r=e[t].length;r>i;i++)if(e[t][i]===n){e[t].splice(i,1);break}return this},this.update=function(t){return i!==t&&(i=t,this.trigger("update",i)),this},this.save=function(){return n.value=i,this.trigger("save",i),this},this.sync=function(){return i=n.value,this.trigger("sync",i),this},this.validate=function(t){for(var n=!0,e=0,a=r.length;a>e&&(n=r[e](t||i),n);e++);return this.trigger("validate",n),n},this.trigger=function(t,n){if(e[t])for(var i=0,r=e[t].length;r>i;i++)e[t][i](n);return this},this.init(t)}})(this),function(t){"use strict";var n=t.app=t.app||{},i=n.module=n.module||{},e={active:!0,blur_color:"#777",placeholder_support:function(){return"placeholder"in t.document.createElement("input")}()};i.TextField=function(t){var i=!1;if(!e.placeholder_support){var r,a,u,s=$(t.element),o=s.css("color"),c=s.attr("placeholder"),l=t;l.validators=[function(t){return t!==c}],i=new n.BaseField(t),r=function(t){s.css("color",t?o:e.blur_color)},a=function(){i.update("").save()},u=function(){i.update(c).save()},i.bind("validate",function(t){r(t)}),i.sync().validate()||u(),s.focusin(function(){i.sync().validate()||(a(),r(!0))}).focusout(function(){i.sync().validate()||u()}).closest("form").on("submit",function(){i.sync().validate()||a()})}return i}}(this),$(function(){});
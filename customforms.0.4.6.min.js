/*! customForms - v0.4.6 - 2013-04-18 */ 
(function(t){"use strict";var e=t.app=t.app||{};e.BaseField=function(t){var e=null,i="",a=[],n=[];this.init=function(t){var s=["update","save","sync","validate"];e=t.element,i=e.value;for(var o=0,c=s.length;c>o;o++)a[s[o]]=[];if(t.events)for(var r=0,u=t.events.length;u>r;r++){var l=t.events[r],d=a[l.name||l]=a[l.name||l]||[];l.callback&&"function"==typeof l.callback&&d.push(l.callback)}if(n.push({validator:function(t){return""!==t},message:"value can't be undefined."}),t.validators)for(var f=0,p=t.validators.length;p>f;f++){var h=t.validators[f];n.push({validator:h.validator||h,message:h.message})}"function"==typeof t.init&&t.init()},this.bind=function(t,e){return a[t]&&a[t].push(e),this},this.unbind=function(t,e){for(var i=0,n=a[t].length;n>i;i++)if(a[t][i]===e){a[t].splice(i,1);break}return this},this.update=function(t,e){return i!==t&&(this.validate(t)||e)&&(i=t,this.trigger("update",i)),this},this.save=function(){return e.value=i,this.trigger("save",i),this},this.sync=function(){return i=e.value,this.trigger("sync",i),this},this.validate=function(t){for(var e={success:!0,message:[]},a='"'+t+'" is not a valid value.',s=0,o=n.length;o>s;s++){var c=n[s],r=c.validator(t||i);r||(e.success=!1,e.message.push(c.message||a))}return this.trigger("validate",e),e},this.trigger=function(t,i){if(a[t])for(var n=0,s=a[t].length;s>n;n++){var o=this,c={element:e,model:o,event:t,data:i,time:(new Date).getTime()};a[t][n](c)}return this},this.init(t)}})(this),function(t){"use strict";var e=t.app=t.app||{},i=e.module=e.module||{},a={customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",hideCss:{position:"absolute",left:"-9999px"}};i.Checkbox=function(t){var i,n=!1,s=$(t.element),o=a.classPrefix+"checkbox",c=t.init||function(){},r=t?$.extend(!0,{},a,t):a,u=function(){s.focusin(function(){i.addClass("focus")}).focusout(function(){i.removeClass("focus")}).change(function(){n.validate()}),i.click(function(t){t.preventDefault(),s.prop("checked",!s.prop("checked")),n.validate()})};return r.validators=r.validators||[],r.validators.push(function(){return s.prop("checked")}),r.init=function(){s.css(a.hideCss),i=$("<"+a.customEle+"/>"),i.attr({id:a.classPrefix+(s.attr("id")||s.attr("name")),"class":o+" customForm-hidden"}),s.before(i),c()},n=new e.BaseField(r),n.bind("validate",function(t){var e=t.data.success;i[(e?"add":"remove")+"Class"]("checked")}),n.validate(),u(),n},i.Checkbox.target={tagName:"input",filter:{input:{type:"checkbox"}}}}(this),function(t){"use strict";var e=t.app=t.app||{},i=e.module=e.module||{},a={BUTTON_BROWSER_SIZE:36,customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",holderTxt:"Upload..",hideCss:{opacity:"0",filter:"alpha(opacity=0)",position:"absolute",top:"0px",left:"0px","-moz-opacity":"0","-khtml-opacity":"0"},elCss:{display:"block","text-align":"left","-moz-appearance":"none","-webkit-appearance":"none"},customContainerCss:{position:"relative"},customElCss:{display:"block",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}};i.File=function(t){var i,n,s=!1,o=$(t.element),c=t?$.extend(!0,{},a,t):a,r=a.classPrefix+(o.attr("id")||o.attr("name")),u=a.classPrefix+"file",l=u+"-container",d=t.init||function(){},f={width:0,height:0,size:0},p=function(t){return t-c.BUTTON_BROWSER_SIZE},h=function(){return o.val().split("\\").pop()},v=function(){o.focusin(function(){n.addClass("focus")}).focusout(function(){n.removeClass("focus")}).change(function(){s.validate()})};return c.validators=c.validators||[],c.init=function(){o.css(a.hideCss),n=$("<"+c.containerEle+"/>"),n.attr({id:r+"-container","class":l}).css(c.customContainerCss),i=$("<"+c.customEle+"/>"),i.attr({id:r,"class":u}).css(c.customElCss),o.before(n),o.appendTo(n),n.append(i),f.height=n.css("height"),f.width=n.css("width"),f.size=p(parseInt(f.width,10)),o.css($.extend({},c.elCss,f)),d()},s=new e.BaseField(c),s.bind("validate",function(){var t=h();i.html(t?t:c.holderTxt)}),s.validate(),v(),s},i.File.target={tagName:"input",filter:{input:{type:"file"}}}}(this),function(t){"use strict";var e=t.app=t.app||{},i=e.module=e.module||{},a={customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",hideCss:{position:"absolute",left:"-9999px"}};i.Radio=function(t){var i,n=!1,s=$(t.element),o=a.classPrefix+"radio",c=s.attr("name"),r=o+"-"+c,u=t.init||function(){},l=t?$.extend(!0,{},a,t):a,d=function(){s.focusin(function(){i.addClass("focus")}).focusout(function(){i.removeClass("focus")}).change(function(){n.validate()}),i.click(function(t){t.preventDefault(),s.prop("checked",!0),n.validate()})};return l.validators=l.validators||[],l.validators.push(function(){return s.prop("checked")}),l.init=function(){s.css(a.hideCss),i=$("<"+a.customEle+"/>"),i.attr({id:a.classPrefix+s.attr("name")+"-"+s.val(),"class":o+" customForm-hidden "+r}),s.before(i),u()},n=new e.BaseField(l),n.bind("validate",function(t){var e=t.data.success;$("."+r).removeClass("checked"),i[(e?"add":"remove")+"Class"]("checked")}),n.validate(),d(),n},i.Radio.target={tagName:"input",filter:{input:{type:"radio"}}}}(this),function(t){"use strict";var e=t.app=t.app||{},i=e.module=e.module||{},a={customEle:"a",containerEle:"div",autoHide:!0,classPrefix:"custom-",hideCss:{opacity:"0",filter:"alpha(opacity=0)",position:"absolute",top:"0px",left:"0px","-moz-opacity":"0","-khtml-opacity":"0"},elCss:{display:"block","-webkit-appearance":"none","-moz-appearance":"none"},customContainerCss:{position:"relative"},customElCss:{display:"block",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}};i.Select=function(t){var i,n,s=!1,o=$(t.element),c=t?$.extend(!0,{},a,t):a,r=a.classPrefix+(o.attr("id")||o.attr("name")),u=a.classPrefix+"select",l=u+"-container",d=t.init||function(){},f={width:0,height:0},p=function(){o.focusin(function(){n.addClass("focus")}).focusout(function(){n.removeClass("focus")}).change(function(){s.validate()})};return c.validators=c.validators||[],c.init=function(){o.css(a.hideCss),n=$("<"+c.containerEle+"/>"),n.attr({id:r+"-container","class":l}).css(c.customContainerCss),i=$("<"+c.customEle+"/>"),i.attr({id:r,"class":u}).css(c.customElCss),o.before(n),o.appendTo(n),n.append(i),f.height=n.css("height"),f.width=n.css("width"),o.css($.extend({},c.elCss,f)),d()},s=new e.BaseField(c),s.bind("validate",function(){var t=o.find("option:selected").text();t=t||o.find("option").first().text(),i.html(t)}),s.validate(),p(),s},i.Select.target={tagName:"select"}}(this),function(t){"use strict";var e=t.app=t.app||{},i=e.module=e.module||{},a={active:!0,blur_color:"#777",classPrefix:"custom-",placeholder_support:function(){return"placeholder"in t.document.createElement("input")}()};i.Text=function(t){var i=!1;if(!a.placeholder_support||t.force){var n=$(t.element),s=n.css("color"),o=n.attr("placeholder"),c=t?$.extend(!0,{},a,t):a,r=c.classPrefix+"textfield",u=t.init||function(){},l=function(){i.update("",!0).save()},d=function(t){n.css("color",t?s:c.blur_color)},f=function(){i.update(o,!0).save()},p=function(t){i.sync().validate().success||t()},h=function(){p(function(){f()})},v=function(){n.focusin(function(){$(this).addClass("focus"),p(function(){l(),d(!0)})}).focusout(function(){$(this).removeClass("focus"),h()}).closest("form").on("submit",function(){p(function(){l()})})};c.validators=c.validators||[],c.validators.push(function(t){return t!==o}),c.init=function(){n.addClass(r),u()},i=new e.BaseField(c),i.bind("validate",function(t){var e=t.data.success;d(e)}),v(),h()}return i},i.Text.target={tagName:["input","textarea"],filter:{input:{type:["text","search","tel","url","email","password"]}}}}(this),function(t){var e=t.app=t.app||{},i=function(){var t={},i=function(e){return t[e.nodeName.toLowerCase()]},a=function(t,i,a){var n=a||{};n.element=i,e.module[t](n)},n=function(t,e){var i={array:function(){return-1!==e.indexOf(t)},string:function(){return t===e}};return i["string"==typeof e?"string":"array"]()},s=function(t,e){var i=!1;return $.each(t,function(t,a){return i=n(e.attr(t),a),i?!1:void 0}),i},o=function(t,e){for(var n=i(t[0]),o=0,c=n.length;c>o;o++)"string"==typeof n[o]?a(n[o],t[0],e[n[o].toLowerCase()]):s(n[o].filter,t)&&a(n[o].module,t[0],e[n[o].module.toLowerCase()])},c=function(t,e){$.each(t.children(),function(){i($(this)[0])?o($(this),e):c($(this),e)})},r=function(i,a){var n,s=e.module[i].target.filter||{};t[a]=t[a]||[],n=s[a]?{filter:s[a],module:i}:i,t[a].push(n)},u={arr:function(t,e){$.each(e,function(e,i){r(t,i)})},"default":r};return $.each(e.module,function(t){var i=e.module[t].target.tagName;u[$.isArray(i)?"arr":"default"](t,i)}),function(t){$(this).each(function(){var e={validTag:o,checkChildrenForValidTag:c};e[i($(this)[0])?"validTag":"checkChildrenForValidTag"]($(this),t)})}}();$.fn.cstmForm=i}(this);
/*! customForms - v0.4.6 - 2013-04-05 */ 
(function(t){"use strict";var n=t.app=t.app||{};n.BaseField=function(t){var n=null,i="",e=[],r=[];this.init=function(t){var u=["update","save","sync","validate"];n=t.element,i=n.value;for(var o=0,a=u.length;a>o;o++)e[u[o]]=[];if(t.events)for(var s=0,c=t.events.length;c>s;s++)e[t.events[s]]=[];if(r.push(function(t){return""!==t}),t.validators)for(var l=0,f=t.validators.length;f>l;l++)r.push(t.validators[l]);"function"==typeof t.init&&t.init()},this.bind=function(t,n){return e[t]&&e[t].push(n),this},this.unbind=function(t,n){for(var i=0,r=e[t].length;r>i;i++)if(e[t][i]===n){e[t].splice(i,1);break}return this},this.update=function(t,n){return i!==t&&(this.validate(t)||n)&&(i=t,this.trigger("update",i)),this},this.save=function(){return n.value=i,this.trigger("save",i),this},this.sync=function(){return i=n.value,this.trigger("sync",i),this},this.validate=function(t){for(var n=!0,e=0,u=r.length;u>e&&(n=r[e](t||i),n);e++);return this.trigger("validate",n),n},this.trigger=function(t,n){if(e[t])for(var i=0,r=e[t].length;r>i;i++)e[t][i](n);return this},this.init(t)}})(this),function(t){"use strict";var n=t.app=t.app||{},i=n.module=n.module||{},e={active:!0,blur_color:"#777",placeholder_support:function(){return"placeholder"in t.document.createElement("input")}()};i.TextField=function(t){var i=!1;if(!e.placeholder_support||t.force){var r=$(t.element),u=r.css("color"),o=r.attr("placeholder"),a=t,s=function(){i.update("",!0).save()},c=function(t){r.css("color",t?u:e.blur_color)},l=function(){i.update(o,!0).save()},f=function(t){i.sync().validate()||t()},h=function(){f(function(){l()})},v=function(){r.focusin(function(){f(function(){s(),c(!0)})}).focusout(function(){h()}).closest("form").on("submit",function(){f(function(){s()})})};a.validators=a.validators||[],a.validators.push(function(t){return t!==o}),i=new n.BaseField(a),i.bind("validate",function(t){c(t)}),v(),h()}return i}}(this),$(function(){});
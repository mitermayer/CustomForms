/*! customForms - v0.4.6 - 2013-03-31 */ 
(function(t){"use strict";var n=t.app=t.app||{};n.BaseField=function(t){var n=null,e="",i=[],r=[];this.init=function(t){var a=["update","save","sync","validate"];n=t.element,e=n.value;for(var o=0,u=a.length;u>o;o++)i[a[o]]=[];if(t.events)for(var c=0,s=t.events.length;s>c;c++)i[t.events[c]]=[];if(r.push(function(t){return""!==t}),t.validators)for(var l=0,f=t.validators.length;f>l;l++)r.push(t.validators[l]);"function"==typeof t.init&&t.init()},this.bind=function(t,n){return i[t]&&i[t].push(n),this},this.unbind=function(t,n){for(var e=0,r=i[t].length;r>e;e++)if(i[t][e]===n){i[t].splice(e,1);break}return this},this.update=function(t){return e!==t&&(e=t,this.trigger("update",e)),this},this.save=function(){return n.value=e,this.trigger("save",e),this},this.sync=function(){return e=n.value,this.trigger("sync",e),this},this.validate=function(t){for(var n=!0,i=0,a=r.length;a>i&&(n=r[i](t||e),n);i++);return this.trigger("validate",n),n},this.trigger=function(t,n){if(i[t])for(var e=0,r=i[t].length;r>e;e++)i[t][e](n);return this},this.init(t)}})(this),function(t){"use strict";var n=t.app=t.app||{},e=n.module=n.module||{},i={active:!0,blur_color:"#777",placeholder_support:function(){return"placeholder"in t.document.createElement("input")}()},r={toggleColor:function(t,n,e){t.css("color",e?n:i.blur_color)},clearText:function(t){t.update("").save()},setDefaultText:function(t,n){t.update(n).save()},addPlaceholder:function(t,n){t.sync().validate()||n()},removePlaceholder:function(t,n,e){t.sync().validate()||(n(),e(!0))},attachEvents:function(t,n,e,i,r){r.focusin(function(){t.sync().validate()||(n(),e(!0))}).focusout(function(){t.sync().validate()||i()}).closest("form").on("submit",function(){t.sync().validate()||n()})}};e.TextField=function(t){var e=!1;if(!i.placeholder_support){var a,o,u,c,s,l,f=$(t.element),v=f.css("color"),h=f.attr("placeholder"),d=t;d.validators=[function(t){return t!==h}],e=new n.BaseField(d),o=function(){r.clearText(e)},a=function(t){r.toggleColor(f,v,t)},u=function(){r.setDefaultText(e,h)},s=function(){r.removePlaceholder(e,o,a)},c=function(){r.addPlaceholder(e,u)},l=function(){r.attachEvents(e,o,a,u,f)},e.bind("validate",function(t){a(t)}),l(),c()}return e}}(this),$(function(){});